<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ë©¸ì¢…ìœ„ê¸° ë™ë¬¼ ì‹¤ë£¨ì—£ í€´ì¦ˆ</title>
  <style>
    :root{
      --bg:#f6f8fa;
      --card:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --good:#16a34a;
      --bad:#ef4444;
      --shadow:0 10px 22px rgba(0,0,0,.07);
      --r:18px;
      --accent:#2563eb;
    }
    body{
      font-family:"Noto Sans KR", system-ui, sans-serif;
      background:var(--bg);
      padding:18px;
      color:var(--ink);
      max-width:920px;
      margin:0 auto;
    }
    h1{ text-align:center; margin:8px 0 6px; font-size:26px; }
    .sub{ text-align:center; margin:0 0 14px; color:var(--muted); line-height:1.35; }

    .panel{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--r);
      padding:12px 14px;
      box-shadow:var(--shadow);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }
    .pill{
      background:#111827;
      color:#fff;
      padding:8px 12px;
      border-radius:999px;
      font-weight:900;
      font-size:14px;
    }
    .btn{
      border:1px solid #d1d5db;
      background:#fff;
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:900;
      font-size:14px;
    }
    .btn:hover{ background:#f3f4f6; }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--r);
      padding:16px;
      box-shadow:var(--shadow);
    }

    /* ì‹¤ë£¨ì—£(í° ê·¸ë¦¼) */
    #silhouette{
      font-family:"Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji",sans-serif;
      font-size: 120px;
      text-align:center;
      line-height:1;
      margin: 8px 0 10px;
      filter: grayscale(1) brightness(.15) contrast(1.2);
    }
    #silhouette.reveal{ filter:none; }

    #hintBox{
      margin: 0 0 12px;
      background:#f9fafb;
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px 12px;
      color:#374151;
      font-weight:900;
      text-align:center;
      line-height:1.4;
    }

    /* âœ… ì„ íƒì§€ 3ê°œë§Œ ë³´ì—¬ì£¼ê¸° */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
    }
    .choice{
      border:2px solid #d1d5db;
      border-radius:18px;
      padding:14px 10px;
      background:#fff;
      cursor:pointer;
      user-select:none;
      text-align:center;
      font-weight:1000;
      transition:.15s;
      box-shadow:0 6px 14px rgba(0,0,0,.05);
      font-size:18px;
      min-height: 56px;
    }
    .choice:hover{ background:#eef2ff; border-color:#a5b4fc; }
    .choice.correct{ border-color: var(--good); background:#f0fdf4; }
    .choice.wrong{ border-color: var(--bad); background:#fef2f2; }

    .msg{
      min-height: 26px;
      margin-top: 12px;
      text-align:center;
      font-weight:1000;
      font-size:18px;
    }
    .ok{ color:var(--good); }
    .no{ color:var(--bad); }

    .row{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }

    /* ê²°ê³¼ ëª¨ë‹¬ */
    .backdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:50;
    }
    .modal{
      background:#fff;
      border-radius:18px;
      max-width:520px;
      width:100%;
      padding:18px;
      box-shadow:0 18px 40px rgba(0,0,0,.25);
      border:1px solid var(--line);
      text-align:center;
    }
    .modal h2{ margin:0 0 8px; font-size:24px; }
    .modal p{ margin:0 0 14px; color:#374151; font-weight:900; line-height:1.5; }
    .badge{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 10px;
      border-radius:999px;
      background:#f3f4f6;
      border:1px solid var(--line);
      font-weight:900;
      margin:4px;
    }

    @media (max-width: 520px){
      .choice{ font-size:16px; }
      #silhouette{ font-size: 108px; }
    }
  </style>
</head>

<body>
  <h1>ğŸ§© ë©¸ì¢…ìœ„ê¸° ë™ë¬¼ ì‹¤ë£¨ì—£ í€´ì¦ˆ</h1>
  <p class="sub">ì‹¤ë£¨ì—£(ê¹Œë§Œ ê·¸ë¦¼)ê³¼ íŒíŠ¸ë¥¼ ë³´ê³  ë™ë¬¼ ì´ë¦„ì„ ë§ì¶°ìš”!<br>
    (ë³´ê¸°ëŠ” 3ê°œë§Œ ë‚˜ì™€ìš”)</p>

  <div class="panel">
    <div class="pill">ë¬¸ì œ <span id="qNow">1</span> / <span id="qTotal">5</span></div>
    <div class="pill">ì ìˆ˜ <span id="scoreTxt">0</span>ì </div>
    <div>
      <button class="btn" id="hintBtn">íŒíŠ¸ ê°•ì¡°</button>
      <button class="btn" id="revealBtn">ì •ë‹µ ê·¸ë¦¼(1ì´ˆ)</button>
      <button class="btn" id="resetBtn">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
  </div>

  <div class="card">
    <div id="silhouette" aria-label="ë™ë¬¼ ì‹¤ë£¨ì—£">â“</div>
    <div id="hintBox">íŒíŠ¸ê°€ ì—¬ê¸°ì— ë‚˜ì™€ìš” ğŸ™‚</div>

    <!-- âœ… ì„ íƒì§€ 3ê°œ -->
    <div class="grid" id="choices"></div>

    <div class="msg" id="message"></div>

    <div class="row">
      <button class="btn" id="nextBtn" disabled>ë‹¤ìŒ â–¶</button>
    </div>
  </div>

  <div class="backdrop" id="backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <h2>ğŸ‰ ë!</h2>
      <p id="resultText"></p>
      <div class="row">
        <button class="btn" id="againBtn" style="background:#111827;color:#fff;border-color:#111827;">í•œ ë²ˆ ë”</button>
        <button class="btn" id="closeBtn">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

<script>
  // âœ… ë¬¸ì œì— ë‚˜ì˜¬ ë™ë¬¼(ìš”ì²­í•œ 5ì¢…)
  const QUIZ_ANIMALS = [
    { key:"panda",    name:"íŒë‹¤",     emoji:"ğŸ¼", hint:"ëŒ€ë‚˜ë¬´ë¥¼ ì¢‹ì•„í•´ìš”. ëˆˆ ì£¼ìœ„ê°€ ê¹Œë§¤ìš”!" },
    { key:"elephant", name:"ì½”ë¼ë¦¬",   emoji:"ğŸ˜", hint:"ì½”ê°€ ì•„ì£¼ ê¸¸ì–´ìš”. í° ê·€ê°€ ìˆì–´ìš”!" },
    { key:"turtle",   name:"ë°”ë‹¤ê±°ë¶", emoji:"ğŸ¢", hint:"ë°”ë‹¤ì—ì„œ ì‚´ê³ , ë“±ì— ë”±ë”±í•œ ê»ì§ˆì´ ìˆì–´ìš”!" },
    { key:"tiger",    name:"í˜¸ë‘ì´",   emoji:"ğŸ¯", hint:"ì¤„ë¬´ëŠ¬ê°€ ìˆì–´ìš”. â€˜ì–´í¥!â€™ í•˜ê³  ìš¸ì–´ìš”!" },
    { key:"penguin",  name:"í­ê·„",     emoji:"ğŸ§", hint:"ì¶”ìš´ ê³³ì„ ì¢‹ì•„í•´ìš”. ë‚ ì§€ ëª»í•˜ì§€ë§Œ ìˆ˜ì˜ì„ ì˜í•´ìš”!" }
  ];

  // âœ… ì˜¤ë‹µìœ¼ë¡œ ì„ì—¬ ë‚˜ì˜¬ 'ë‹¤ì–‘í•œ' ë™ë¬¼ ì´ë¦„ í’€(ë¬¸ì œ ë™ë¬¼ ì™¸)
  // í•„ìš”í•˜ë©´ ë” ì¶”ê°€í•´ë„ ìë™ ë°˜ì˜ë¼ìš”.
  const EXTRA_NAMES = [
    "ê¸°ë¦°","ì–¼ë£©ë§","í•˜ë§ˆ","ì•…ì–´","ê³ ë˜","ìƒì–´","ë¬¸ì–´","ëŒê³ ë˜","ë°”ë‹¤í‘œë²”","ë¶ê·¹ê³°",
    "ì—¬ìš°","ëŠ‘ëŒ€","ê³°","ì‚¬ìŠ´","ê³ ìŠ´ë„ì¹˜","ë‹¤ëŒì¥","ì›ìˆ­ì´","ê³ ë¦´ë¼","ì½”ì•Œë¼","ìº¥ê±°ë£¨",
    "ì•µë¬´ìƒˆ","ë…ìˆ˜ë¦¬","ë¶€ì—‰ì´","ê³µë£¡","ë§","ì†Œ","ë¼ì§€","ì–‘","ì—¼ì†Œ","ë‹­"
  ];

  const OPTION_COUNT = 3; // âœ… ë³´ê¸° 3ê°œ(ì •ë‹µ 1 + ì˜¤ë‹µ 2)

  // ìƒíƒœ
  let order = [];
  let idx = 0;
  let score = 0;
  let answered = false;

  // DOM
  const qNow = document.getElementById("qNow");
  const qTotal = document.getElementById("qTotal");
  const scoreTxt = document.getElementById("scoreTxt");
  const silhouette = document.getElementById("silhouette");
  const hintBox = document.getElementById("hintBox");
  const choicesDiv = document.getElementById("choices");
  const message = document.getElementById("message");
  const nextBtn = document.getElementById("nextBtn");

  const hintBtn = document.getElementById("hintBtn");
  const revealBtn = document.getElementById("revealBtn");
  const resetBtn = document.getElementById("resetBtn");

  const backdrop = document.getElementById("backdrop");
  const resultText = document.getElementById("resultText");
  const againBtn = document.getElementById("againBtn");
  const closeBtn = document.getElementById("closeBtn");

  function shuffle(arr){
    const a = [...arr];
    for(let i=a.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [a[i],a[j]] = [a[j],a[i]];
    }
    return a;
  }

  function toast(text, ok=null){
    message.textContent = text;
    message.className = "msg" + (ok===true ? " ok" : ok===false ? " no" : "");
  }

  function buildOptions(correctName){
    // ì˜¤ë‹µ í›„ë³´ í’€ = (ë¬¸ì œ 5ì¢… ì´ë¦„ ì œì™¸) + EXTRA_NAMES
    const quizNames = QUIZ_ANIMALS.map(a => a.name);
    const wrongPool = [...EXTRA_NAMES].filter(n => n !== correctName && !quizNames.includes(n));

    // ì˜¤ë‹µ 2ê°œ ë½‘ê³ (ì¤‘ë³µ ë°©ì§€), ì •ë‹µ ë„£ê³  ì„ê¸°
    const wrongs = shuffle(wrongPool).slice(0, OPTION_COUNT - 1);
    return shuffle([correctName, ...wrongs]);
  }

  function renderQuestion(){
    const q = order[idx];

    qNow.textContent = idx + 1;
    qTotal.textContent = order.length;

    silhouette.textContent = q.emoji;
    silhouette.classList.remove("reveal");

    hintBox.textContent = "íŒíŠ¸: " + q.hint;

    const options = buildOptions(q.name);

    choicesDiv.innerHTML = "";
    options.forEach(name => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "choice";
      btn.textContent = name;
      btn.addEventListener("click", () => choose(name, btn));
      choicesDiv.appendChild(btn);
    });

    answered = false;
    nextBtn.disabled = true;
    toast("ì–´ë–¤ ë™ë¬¼ì¼ê¹Œìš”? ğŸ™‚", null);
  }

  function choose(name, btn){
    if(answered) return;
    answered = true;

    const q = order[idx];
    const isCorrect = (name === q.name);

    const all = Array.from(document.querySelectorAll(".choice"));
    all.forEach(b => b.style.pointerEvents = "none");

    if(isCorrect){
      score += 10;
      scoreTxt.textContent = score;
      btn.classList.add("correct");
      toast("âœ… ì •ë‹µì´ì—ìš”!", true);
    }else{
      btn.classList.add("wrong");
      toast("âŒ ì•„ì‰¬ì›Œìš”! ì •ë‹µì„ ì°¾ì•„ë³¼ê¹Œìš”?", false);

      const correctBtn = all.find(b => b.textContent === q.name);
      if(correctBtn) correctBtn.classList.add("correct");
    }

    nextBtn.disabled = false;
  }

  function next(){
    if(idx < order.length - 1){
      idx++;
      renderQuestion();
    }else{
      showResult();
    }
  }

  function showResult(){
    const correctCount = score / 10;
    resultText.innerHTML =
      `<span class="badge">âœ… ë§íŒ ê°œìˆ˜ ${correctCount} / ${order.length}</span>` +
      `<span class="badge">ğŸ† ì ìˆ˜ ${score}ì </span><br><br>` +
      `ë©¸ì¢…ìœ„ê¸° ë™ë¬¼ì„ ì˜ ë§ì·„ì–´ìš”! ìš°ë¦¬ í•¨ê»˜ ì§€ì¼œìš” ğŸŒ`;
    backdrop.style.display = "flex";
    backdrop.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    backdrop.style.display = "none";
    backdrop.setAttribute("aria-hidden","true");
  }

  function startGame(){
    closeModal();
    order = shuffle(QUIZ_ANIMALS); // 5ë¬¸ì œ ì „ë¶€
    idx = 0;
    score = 0;
    scoreTxt.textContent = score;
    renderQuestion();
  }

  // ë²„íŠ¼
  nextBtn.addEventListener("click", next);

  hintBtn.addEventListener("click", () => {
    hintBox.style.borderColor = "#2563eb";
    hintBox.style.background = "#eef2ff";
    setTimeout(() => {
      hintBox.style.borderColor = "var(--line)";
      hintBox.style.background = "#f9fafb";
    }, 600);
  });

  revealBtn.addEventListener("click", () => {
    silhouette.classList.add("reveal");
    setTimeout(() => silhouette.classList.remove("reveal"), 1000);
  });

  resetBtn.addEventListener("click", startGame);
  againBtn.addEventListener("click", startGame);
  closeBtn.addEventListener("click", closeModal);
  backdrop.addEventListener("click", (e) => { if(e.target === backdrop) closeModal(); });

  window.addEventListener("keydown", (e) => {
    if(e.key === "Enter" && !nextBtn.disabled) next();
    if(e.key.toLowerCase() === "r") startGame();
    if(e.key === "Escape") closeModal();
  });

  // ì‹œì‘
  startGame();
</script>
</body>
</html>